{"version":3,"sources":["webpack:///src/environments/environment.ts","webpack:///src/app/_helpers/fake-backend.ts","webpack:///src/app/_services/index.ts","webpack:///src/app/app.component.ts","webpack:///src/app/_services/user.service.ts","webpack:///src/app/app.component.html","webpack:///src/app/_helpers/index.ts","webpack:///src/app/app.module.ts","webpack:///src/polyfills.ts","webpack:///src/app/_helpers/jwt.interceptor.ts","webpack:///src/app/_helpers/error.interceptor.ts","webpack:///src/app/_helpers/auth.guard.ts","webpack:///src/app/_services/authentication.service.ts","webpack:///src/app/app-routing.module.ts","webpack:///src/main.ts","webpack:///$_lazy_route_resource lazy namespace object"],"names":["environment","production","apiUrl","users","id","username","password","firstName","lastName","FakeBackendInterceptor","request","next","url","method","headers","body","pipe","handleRoute","endsWith","authenticate","getUsers","handle","user","find","x","error","ok","token","isLoggedIn","unauthorized","status","message","get","fakeBackendProvider","provide","useClass","multi","AppComponent","selector","template","UserService","http","providedIn","AppModule","imports","declarations","providers","bootstrap","JwtInterceptor","authenticationService","currentUser","currentUserValue","isApiUrl","startsWith","clone","setHeaders","Authorization","ErrorInterceptor","err","logout","location","reload","statusText","AuthGuard","router","route","state","navigate","queryParams","returnUrl","AuthenticationService","currentUserSubject","JSON","parse","localStorage","getItem","asObservable","value","post","setItem","stringify","removeItem","routes","path","redirectTo","pathMatch","loadChildren","then","m","LoginModule","HomeModule","canActivate","AppRoutingModule","forRoot","relativeLinkResolution","exports","bootstrapModule","ref","window","destroy","console","webpackEmptyAsyncContext","req","Promise","resolve","e","Error","code","keys","module"],"mappings":"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","file":"main-es5.js","sourcesContent":["// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build --prod` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  production: false,\r\n  apiUrl: 'http://localhost:4000'\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/dist/zone-error';  // Included with Angular CLI.\r\n","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpResponse, HttpHandler, HttpEvent, HttpInterceptor, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { Observable, of, throwError } from 'rxjs';\r\nimport { delay, mergeMap, materialize, dematerialize } from 'rxjs/operators';\r\n\r\nimport { User } from '../_models';\r\n\r\nconst users: User[] = [{ id: 1, username: 'demo@cognizant.com', password: '1234', firstName: 'Demo', lastName: 'User' }];\r\n\r\n@Injectable()\r\nexport class FakeBackendInterceptor implements HttpInterceptor {\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        const { url, method, headers, body } = request;\r\n\r\n        // wrap in delayed observable to simulate server api call\r\n        return of(null)\r\n            .pipe(mergeMap(handleRoute))\r\n            .pipe(materialize()) // call materialize and dematerialize to ensure delay even if an error is thrown (https://github.com/Reactive-Extensions/RxJS/issues/648)\r\n            .pipe(delay(500))\r\n            .pipe(dematerialize());\r\n\r\n        function handleRoute() {\r\n            switch (true) {\r\n                case url.endsWith('/users/authenticate') && method === 'POST':\r\n                    return authenticate();\r\n                case url.endsWith('/users') && method === 'GET':\r\n                    return getUsers();\r\n                default:\r\n                    // pass through any requests not handled above\r\n                    return next.handle(request);\r\n            }    \r\n        }\r\n\r\n        // route functions\r\n\r\n        function authenticate() {\r\n            const { username, password } = body;\r\n            const user = users.find(x => x.username === username && x.password === password);\r\n            if (!user) return error('Username or password is incorrect');\r\n            return ok({\r\n                id: user.id,\r\n                username: user.username,\r\n                firstName: user.firstName,\r\n                lastName: user.lastName,\r\n                token: 'fake-jwt-token'\r\n            })\r\n        }\r\n\r\n        function getUsers() {\r\n            if (!isLoggedIn()) return unauthorized();\r\n            return ok(users);\r\n        }\r\n\r\n        // helper functions\r\n\r\n        function ok(body?) {\r\n            return of(new HttpResponse({ status: 200, body }))\r\n        }\r\n\r\n        function error(message) {\r\n            return throwError({ error: { message } });\r\n        }\r\n\r\n        function unauthorized() {\r\n            return throwError({ status: 401, error: { message: 'Unauthorised' } });\r\n        }\r\n\r\n        function isLoggedIn() {\r\n            return headers.get('Authorization') === 'Bearer fake-jwt-token';\r\n        }\r\n    }\r\n}\r\n\r\nexport let fakeBackendProvider = {\r\n    // use fake backend in place of Http service for backend-less development\r\n    provide: HTTP_INTERCEPTORS,\r\n    useClass: FakeBackendInterceptor,\r\n    multi: true\r\n};","export * from './authentication.service';\r\nexport * from './user.service';","import { Component } from '@angular/core';\r\n\r\n@Component({ selector: 'app', templateUrl: 'app.component.html' })\r\nexport class AppComponent {\r\n\r\n    constructor() {\r\n    }\r\n\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\n\r\nimport { environment } from '../../environments/environment';\r\nimport { User } from '../_models';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class UserService {\r\n    constructor(private http: HttpClient) { }\r\n\r\n    getAll() {\r\n        return this.http.get<User[]>(`${environment.apiUrl}/users`);\r\n    }\r\n}","export default \"<router-outlet></router-outlet>\\r\\n\";","export * from './auth.guard';\r\nexport * from './error.interceptor';\r\nexport * from './fake-backend';\r\nexport * from './jwt.interceptor';","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\n\r\n// used to create fake backend\r\nimport { fakeBackendProvider } from './_helpers';\r\n\r\nimport { AppComponent } from './app.component';\r\nimport { AppRoutingModule } from './app-routing.module';\r\n\r\nimport { JwtInterceptor, ErrorInterceptor } from './_helpers';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\n\r\n@NgModule({\r\n    imports: [\r\n        ReactiveFormsModule,\r\n        HttpClientModule,\r\n        AppRoutingModule,\r\n        BrowserAnimationsModule\r\n    ],\r\n    declarations: [\r\n        AppComponent\r\n    ],\r\n    providers: [\r\n        { provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true },\r\n        { provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true },\r\n\r\n        // provider used to create fake backend\r\n        fakeBackendProvider\r\n    ],\r\n    bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }","/**\r\n * This file includes polyfills needed by Angular and is loaded before the app.\r\n * You can add your own extra polyfills to this file.\r\n *\r\n * This file is divided into 2 sections:\r\n *   1. Browser polyfills. These are applied before loading ZoneJS and are sorted by browsers.\r\n *   2. Application imports. Files imported after ZoneJS that should be loaded before your main\r\n *      file.\r\n *\r\n * The current setup is for so-called \"evergreen\" browsers; the last versions of browsers that\r\n * automatically update themselves. This includes Safari >= 10, Chrome >= 55 (including Opera),\r\n * Edge >= 13 on the desktop, and iOS 10 and Chrome on mobile.\r\n *\r\n * Learn more in https://angular.io/docs/ts/latest/guide/browser-support.html\r\n */\r\n\r\n/***************************************************************************************************\r\n * BROWSER POLYFILLS\r\n */\r\n\r\n/** IE9, IE10 and IE11 requires all of the following polyfills. **/\r\n// import 'core-js/es6/symbol';\r\n// import 'core-js/es6/object';\r\n// import 'core-js/es6/function';\r\n// import 'core-js/es6/parse-int';\r\n// import 'core-js/es6/parse-float';\r\n// import 'core-js/es6/number';\r\n// import 'core-js/es6/math';\r\n// import 'core-js/es6/string';\r\n// import 'core-js/es6/date';\r\n// import 'core-js/es6/array';\r\n// import 'core-js/es6/regexp';\r\n// import 'core-js/es6/map';\r\n// import 'core-js/es6/set';\r\n\r\n/** IE10 and IE11 requires the following for NgClass support on SVG elements */\r\n// import 'classlist.js';  // Run `npm install --save classlist.js`.\r\n\r\n/** IE10 and IE11 requires the following to support `@angular/animation`. */\r\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\r\n\r\n\r\n/** Evergreen browsers require these. **/\r\n// import 'core-js/es6/reflect';\r\n// import 'core-js/es7/reflect';\r\n\r\n\r\n/**\r\n * Web Animations `@angular/platform-browser/animations`\r\n * Only required if AnimationBuilder is used within the application and using IE/Edge or Safari.\r\n * Standard animation support in Angular DOES NOT require any polyfills (as of Angular 6.0).\r\n */\r\n// import 'web-animations-js';  // Run `npm install --save web-animations-js`.\r\n\r\n\r\n\r\n/***************************************************************************************************\r\n * Zone JS is required by Angular itself.\r\n */\r\nimport 'zone.js/dist/zone';  // Included with Angular CLI.\r\n\r\n\r\n/***************************************************************************************************\r\n * APPLICATION IMPORTS\r\n */\r\n\r\n/**\r\n * Date, currency, decimal and percent pipes.\r\n * Needed for: All but Chrome, Firefox, Edge, IE11 and Safari 10\r\n */\r\n// import 'intl';  // Run `npm install --save intl`.","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable } from 'rxjs';\r\n\r\nimport { environment } from '../../environments/environment';\r\nimport { AuthenticationService } from '../_services';\r\n\r\n@Injectable()\r\nexport class JwtInterceptor implements HttpInterceptor {\r\n    constructor(private authenticationService: AuthenticationService) { }\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        // add auth header with jwt if user is logged in and request is to the api url\r\n        const currentUser = this.authenticationService.currentUserValue;\r\n        const isLoggedIn = currentUser && currentUser.token;\r\n        const isApiUrl = request.url.startsWith(environment.apiUrl);\r\n        if (isLoggedIn && isApiUrl) {\r\n            request = request.clone({\r\n                setHeaders: {\r\n                    Authorization: `Bearer ${currentUser.token}`\r\n                }\r\n            });\r\n        }\r\n\r\n        return next.handle(request);\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpRequest, HttpHandler, HttpEvent, HttpInterceptor } from '@angular/common/http';\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\nimport { AuthenticationService } from '../_services';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n    constructor(private authenticationService: AuthenticationService) { }\r\n\r\n    intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n        return next.handle(request).pipe(catchError(err => {\r\n            if (err.status === 401) {\r\n                // auto logout if 401 response returned from api\r\n                this.authenticationService.logout();\r\n                location.reload(true);\r\n            }\r\n\r\n            const error = err.error.message || err.statusText;\r\n            return throwError(error);\r\n        }))\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { Router, CanActivate, ActivatedRouteSnapshot, RouterStateSnapshot } from '@angular/router';\r\n\r\nimport { AuthenticationService } from '../_services';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthGuard implements CanActivate {\r\n    constructor(\r\n        private router: Router,\r\n        private authenticationService: AuthenticationService\r\n    ) { }\r\n\r\n    canActivate(route: ActivatedRouteSnapshot, state: RouterStateSnapshot) {\r\n        const currentUser = this.authenticationService.currentUserValue;\r\n        if (currentUser) {\r\n            // logged in so return true\r\n            return true;\r\n        }\r\n\r\n        // not logged in so redirect to login page with the return url\r\n        this.router.navigate(['/login'], { queryParams: { returnUrl: state.url } });\r\n        return false;\r\n    }\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http';\r\nimport { BehaviorSubject, Observable } from 'rxjs';\r\nimport { map } from 'rxjs/operators';\r\n\r\nimport { environment } from '../../environments/environment';\r\nimport { User } from '../_models';\r\n\r\n@Injectable({ providedIn: 'root' })\r\nexport class AuthenticationService {\r\n    private currentUserSubject: BehaviorSubject<User>;\r\n    public currentUser: Observable<User>;\r\n\r\n    constructor(private http: HttpClient) {\r\n        this.currentUserSubject = new BehaviorSubject<User>(JSON.parse(localStorage.getItem('currentUser')));\r\n        this.currentUser = this.currentUserSubject.asObservable();\r\n    }\r\n\r\n    public get currentUserValue(): User {\r\n        return this.currentUserSubject.value;\r\n    }\r\n\r\n    login(username: string, password: string) {\r\n        return this.http.post<any>(`${environment.apiUrl}/users/authenticate`, { username, password })\r\n            .pipe(map(user => {\r\n                // store user details and jwt token in local storage to keep user logged in between page refreshes\r\n                localStorage.setItem('currentUser', JSON.stringify(user));\r\n                this.currentUserSubject.next(user);\r\n                return user;\r\n            }));\r\n    }\r\n\r\n    logout() {\r\n        // remove user from local storage to log user out\r\n        localStorage.removeItem('currentUser');\r\n        this.currentUserSubject.next(null);\r\n    }\r\n}","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { AuthGuard } from './_helpers';\r\n\r\nconst routes: Routes = [\r\n    { path: '', redirectTo: 'login', pathMatch:'full'},\r\n    // { path: 'login',  loadChildren: () => import('./login/login.module').then( m => m.LoginModule),  canActivate: [AuthGuard]},\r\n    // { path: 'home',  loadChildren: () => import('./home/home.module').then( m => m.HomeModule)}\r\n    { path: 'login', loadChildren: () => import('./login/login.module').then( m => m.LoginModule) },\r\n    { path: 'home', loadChildren: () => import('./home/home.module').then( m => m.HomeModule), canActivate: [AuthGuard]},\r\n\r\n    // otherwise redirect to home\r\n    { path: '**', redirectTo: '' }\r\n  ];\r\n\r\n@NgModule({\r\n    imports: [RouterModule.forRoot(routes, { relativeLinkResolution: 'legacy' })],\r\n    exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","import './polyfills';\r\n\r\nimport { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule).then(ref => {\r\n  // Ensure Angular destroys itself on hot reloads.\r\n  if (window['ngRef']) {\r\n    window['ngRef'].destroy();\r\n  }\r\n  window['ngRef'] = ref;\r\n\r\n  // Otherwise, log the boot error\r\n}).catch(err => console.error(err));","function webpackEmptyAsyncContext(req) {\n\t// Here Promise.resolve().then() is used instead of new Promise() to prevent\n\t// uncaught exception popping up in devtools\n\treturn Promise.resolve().then(function() {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t});\n}\nwebpackEmptyAsyncContext.keys = function() { return []; };\nwebpackEmptyAsyncContext.resolve = webpackEmptyAsyncContext;\nmodule.exports = webpackEmptyAsyncContext;\nwebpackEmptyAsyncContext.id = \"zn8P\";"]}